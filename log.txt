rails new next_app
cd '/home/user/Projects/next_app'

rails server
http://localhost:3000/

Метод	Назначение
micropost.user	Возвращает объект User связанный с данным микросообщением.
user.microposts	Возвращает массив микросообщений пользователя.
user.microposts.create(arg)	Создает микросообщение (user_id = user.id).
user.microposts.create!(arg)	Создает микросообщение (бросает исключение в случае неудачи).
user.microposts.build(arg)	Возвращает новый объект Micropost (user_id = user.id).

HTTP запрос	URL	Действие	Назначение
POST	/microposts	create	создание нового микросообщения
DELETE	/microposts/1	destroy	удаление микросообщения с id 1

HTTP request	URL	Действие	Именованный маршрут
GET	/users/1/following	following	following_user_path(1)
GET	/users/1/followers	followers	followers_user_path(1)

git add .
git commit -am "Начало локализации"
git push

git add .
git commit -am "Improve the README"
git commit -am "Add files"
git push

    rails generate migration add_reader_tag_to_users reader:boolean
    rails generate migration add_active_tag_to_users active:boolean
    rails generate migration add_data_fields_to_users phone:integer comment:string
    rake db:migrate
    rake db:rollback
    rake db:migrate

Find me in

    git checkout master
    git checkout -b reset-password

rails g controller password_resets new
rails g migration add_password_reset_to_users password_reset_token:string password_reset_sent_at:datetime
rails g mailer user_mailer password_reset
rake db:migrate

http://localhost:3000/password_resets/LQLbZnKx2ErTeTpNJxYoWx1xJ+B2Vbm7u/mNvD7YZaw=/edit.html
http://localhost:3000/password_resets/LQL/edit

git add .
git commit -am "password_reset"
git checkout master
git merge reset-password
git push

<h1>UserMailer#password_reset</h1>

<p>
  <%= @greeting %>, find me in app/views/user_mailer/password_reset.html.erb
</p>
<p>
    To reset your password, click the URL below.
</p>

ЗАВКА АГЕНТА НА ПРОДАЖУ УСЛУГИ
1.ФИО абонента___________________________________________________________________
2. паспортные данные: №______, серия_________________, дата рождения________________,
     Место рождения____________________, когда кем выдан_____________________________
3. Адрес подключения_____________________________________________________________.
4. Подключаемая услуга:
o	ШПД  Тарифный план_______________________________________________________
            Оборудование: продажа/рассрочка на сколько месяцев__________________________
o	IPTV    Тарифный план______________________________________________________
            Оборудование: продажа/рассрочка на сколько месяцев__________________________
5. Контактный телефон: домашний и сотовый_________________________________________
6. Предполагаемая дата подключения_______________________________________________
7. ФИО Агента, подключившего услугу_______________________________________________
8. ФИО Супервайзера Агента_______________________________________________________
9. Дата продажи__________________________________________________________________

Пункты 1-6 заполняются на веб-странице при создании заявки.
Надо сразу предусмотреть защиту полей от ввода "мусора".
Пункт 7 - определяется по логину создающего заявку. Предполагается что это и есть агент.
Пункты 8-9 - атрибуты диспетчера выполнившего заявку, т.е. сделавшего на ее основе продажу в CRM.
Заполняется в момент перевода заявки в статус "Выполнено".
Или, при отмене заявки, заполняется ФИО диспетчера отменившего ее.

1. ФИО абонента                         *   abonent
2. Паспортные данные:
    2.1. серия                          *   passport_series
    2.2. номер                          *   passport_number

    2.3. дата рождения                  *   date_of_birth   *   birthday    *   (dob)
    2.4. Место рождения                 *   place_of_birth  *   birthplace  *   (bpl)

    2.5. когда выдан                    *   passport_registration_date
    2.6. кем выдан                      *   passport_issued_by

3. Адрес подключения                    *   address

4. Подключаемая услуга
    4.1. Тарифный план ШПД              *   tariff_plan_inet
    4.2. Оборудование: продажа/рассрочка на сколько месяцев
                                        *   device_contract_inet
    4.3. Тарифный план IPTV             *   tariff_plan_iptv
    4.4. Оборудование: продажа/рассрочка на сколько месяцев
                                        *   device_contract_iptv
    4.5. Рассрочка на сколько месяцев   *   installment_plan_iptv
    4.6. Рассрочка на сколько месяцев   *   installment_plan_inet

5. Контактный телефон:
    5.1. телефон домашний           *   phone
    5.2. телефон сотовый            *   phone_mobile

6. Предполагаемая дата подключения  *   connection_date

7. ФИО Агента, подключившего услугу *   writer

8. ФИО Супервайзера Агента          *   reader

9. Дата продажи                     *   contract_date

10.Статус заявки                    *   order status
            * Новая
            * Принята
            * Отклонена

  activerecord:
    models:
      order:
    attributes:
      order:
        abonent:                    "ФИО абонента"

        passport_series:            "Серия паспорта"
        passport_number:            "Номер паспорта"
        date_of_birth:              "Дата рождения"
        place_of_birth:             "Место рождения"
        passport_registration_date: "Когда выдан паспорт"
        passport_issued_by:         "Кем выдан"

        address:                    "Адрес подключения"
        phone:                      "Телефон домашний"
        phone_mobile:               "Телефон сотовый"

        inet_tariff_plan:           "Тарифный план ШПД"
        inet_device_contract:       "Оборудование: продажа/рассрочка/аренда"
        inet_installment_plan:      "Рассрочка на сколько месяцев"

        iptv_tariff_plan:           "Тарифный план IPTV"
        iptv_device_contract:       "Оборудование: продажа/рассрочка/аренда"
        iptv_installment_plan:      "Рассрочка на сколько месяцев"

        tariff_plan_inet:           "Тарифный план ШПД"
        tariff_plan_iptv:           "Тарифный план IPTV"
        device_contract_inet:       "Оборудование: продажа/рассрочка/аренда"
        device_contract_iptv:       "Оборудование: продажа/рассрочка/аренда"
        installment_plan_iptv:      "Рассрочка на сколько месяцев"
        installment_plan_inet:      "Рассрочка на сколько месяцев"

        connection_date:            "Предполагаемая дата подключения"
        contract_date:              "Дата продажи"
        order_status:               "Статус заявки: Новая / Принята / Отклонена"

        order_writer:               "ФИО агента, подключившего услугу"
        order_reader:               "ФИО супервайзера агента"

     user_id:       integer
     admin:         boolean
     content:       string
     start_date:    datetime

        abonent:string
        address:string
        phone:string
        phone_mobile:string

        passport_series:string
        passport_number:string
        date_of_birth:datetime
        place_of_birth:string
        passport_registration_date:datetime
        passport_issued_by:string

        inet_tariff_plan:string
        inet_device_contract:string
        inet_installment_plan:integer

        iptv_tariff_plan:string
        iptv_device_contract:string
        iptv_installment_plan:integer

        tariff_plan_inet:string
        tariff_plan_iptv:string
        device_contract_inet:string
        device_contract_iptv:string
        installment_plan_iptv:integer
        installment_plan_inet:integer

        connection_date:datetime
        contract_date:datetime
        order_status:string

        user_id:integer             "ID агента, подключившего услугу"
        reader_id:integer           "ID супервайзера агента"

        order_writer:               "ФИО агента, подключившего услугу"
        order_reader:               "ФИО супервайзера агента"

rails generate model Order
        user_id:integer
        reader_id:integer

        abonent:string
        address:string
        phone:string
        phone_mobile:string

        connection_date:datetime
        contract_date:datetime
        order_status:string


rails g migration add_tariff_data_to_orders

        inet_tariff_plan:string
        inet_device_contract:string
        inet_installment_plan:integer

        iptv_tariff_plan:string
        iptv_device_contract:string
        iptv_installment_plan:integer

rails g migration add_passport_data_to_orders

        passport_series:string
        passport_number:string
        date_of_birth:datetime
        place_of_birth:string
        passport_registration_date:datetime
        passport_issued_by:string

git add .
git commit -am "Improve the README"
git checkout -b user-orders

git add .
git commit -am "Finish user-orders"

git checkout master
git merge user-orders
git push
git push heroku

git checkout master

git add .
git commit -am "scaffold Order"

rails generate scaffold Order
        user_id:integer
        reader_id:integer
        order_status:string
        contract_date:datetime

        abonent:string
        address:string
        phone:string
        phone_mobile:string

        connection_date:datetime
        inet_tariff_plan:string
        inet_device_contract:string
        inet_installment_plan:integer
        iptv_tariff_plan:string
        iptv_device_contract:string
        iptv_installment_plan:integer

        passport_series:string
        passport_number:string
        date_of_birth:datetime
        place_of_birth:string
        passport_registration_date:datetime
        passport_issued_by:string

rails generate scaffold Order \
user_id:integer reader_id:integer \
order_status:string contract_date:datetime \
abonent:string address:string \
phone:string phone_mobile:string \
connection_date:datetime \
inet_tariff_plan:string inet_device_contract:string inet_installment_plan:integer \
iptv_tariff_plan:string iptv_device_contract:string iptv_installment_plan:integer \
passport_series:string passport_number:string \
passport_registration_date:datetime passport_issued_by:string \
date_of_birth:datetime place_of_birth:string

git add .
git commit -am "scaffold Order"

rake db:migrate
rake db:rollback
rails destroy scaffold Order